---
title: "Tarea 3"
author: "Curso Big Data TEC"
date: "20191214"
output: html_document
editor_options: 
  chunk_output_type: console
---

## Tarea sesi贸n 3

### Descripci贸n tarea
Levanta una instancia local de Spark ([siguiendo los pasos aqui]()) y ejecuta los siguientes pasos. Puedes usar el marco de codigo (el *chunk*) para incluir tu respuesta y enviar la tarea finalizada.

```{r}
library(nycflights13)
library(sparklyr)
```

## Copia datos

Copia los datos 

```{r}
vuelos <- # aqui el codigo para copiar nycflights13::flights a Spark
aerolineas <- # aqui el codigo para copiar nycflights13::airlines a Spark
```

Pregunta: 

<b> Cuandos RDD cre贸 el paso arriba? </b>
### Ejecuta un join sobre spark

```{r}
# join (sobre spark) de vuelos y aerolineas
```

### Ejecuta un group_by sobre spark

```{r}
# group_by por aerolinea reportando promedio de lo retrasos
```

pregunta:

> Que pasa cuando cierras la sesi贸n y la vuelves a abrir? 
> estan los resultados que tenias antes aun en tu instancia de Spark? 
> Explica lo que observas.
```{r}
# Standalone connection
# conf <- spark_config()
# conf$spark.executor.memory <- "2GB"
# conf$spark.memory.fraction <- 0.9
# conf$spark.executor.cores <- 2
# conf$spark.dynamicAllocation.enabled <- "false"

# sc <- spark_connect(master="spark://master-url:7077", 
#              version = "2.1.0",
#              config = conf,
#              spark_home = "/opt/spark/")
```

```{r}
library(sparklyr)
sc <- spark_connect(master = "local")
```

